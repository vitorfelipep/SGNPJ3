<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core">
	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Login</title>
		
		<link rel="shortcut icon" href="#{resources['imagens/logo_uniabeu.png']}" type="image/x-icon" />
		
		<h:outputStylesheet library="css" name="sistema.css" />
		<h:outputStylesheet library="css" name="login.css" />
	</h:head>
	<h:body>
		<f:metadata>
			<f:viewParam name="dummy" /> 
			<f:event listener="#{loginBean.preRender}" type="preRenderView" /> 
		</f:metadata>
		
		<p:focus context="painelAutenticacao" />

		<p:panel id="painelAutenticacao" styleClass="ui-panel" toggleable="true" >
			
			<f:facet name="header" >
                <h:graphicImage library="imagens" name="logo_uniabeu.png" style="width: 142px;"/>
                <div class="header-painel">
                	<p:outputLabel value="Painel de Autenticação" id="painelDeLogin" style="margin-left: 100px;"/>
                </div>
            </f:facet>
            
			
			
			<h:form id="formAutenticacao"  prependId="false" >
				<!-- Componente das mensagens de validacao do primeFaces -->
				<p:messages id="messages" autoUpdate="true" closable="true"/>
				<center>
					<h:panelGrid columns="2" style="margin-top:5px;">
			 		<p:outputLabel value="Usuario: " for="j_username" />
			 		<p:inputText id="j_username" size="30" value="#{loginBean.email}"/> 
			 		
			 		<p:outputLabel value="Senha: " for="j_password"/>
			 		<p:password id="j_password" size="30" />
			 		<h:panelGroup />
			 		
				 		<p:commandButton value="Login"  action="#{loginBean.login}" ajax="false" >
				 		<div class="fa fa-fw fa-lock vi-customlock">
				 		</div>
				 		</p:commandButton>
			 		
			 	</h:panelGrid>
				<br />
				</center>
			</h:form>
			<p:ajaxStatus onstart="PF('statusDialog').show()"
				onsuccess="PF('statusDialog').hide()" />
	
			<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
				closable="false" resizable="false" showHeader="false">
				<p:graphicImage library="imagens" name="carregando.gif" />
			</p:dialog>
			
			<f:facet name="footer"><center></center><span class="fa fa-fw fa-copyright vi-copyrightStyle"></span><h:outputText value="Sistema Gerenciador de núcleo de práticas Júridicas - 2016" style="margin-left: 170px; "/></f:facet>
			
		</p:panel>
	</h:body>
</html>